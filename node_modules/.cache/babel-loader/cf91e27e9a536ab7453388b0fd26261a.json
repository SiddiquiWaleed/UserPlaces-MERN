{"ast":null,"code":"var _jsxFileName = \"/Users/waleedsiddiqui/Desktop/react-frontend-01-starting-setup/src/shared/components/FormElements/Input.js\";\nimport React, { useReducer, useEffect } from 'react';\nimport './Input.css';\nimport { validate } from '../utils/validators';\n\nconst inputReducer = (state, action) => {\n  switch (action.type) {\n    case 'CHANGE':\n      return { ...state,\n        value: action.val,\n        isValid: validate(action.val, action.validators)\n      };\n\n    case 'TOUCH':\n      return { ...state,\n        isTouched: true\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst Input = props => {\n  const [inputState, dispatch] = useReducer(inputReducer, {\n    value: '',\n    isValid: false,\n    isTouched: false\n  });\n\n  const OnChangeHandler = event => {\n    dispatch({\n      type: 'CHANGE',\n      val: event.target.value,\n      validators: props.validators\n    });\n  };\n\n  useEffect(() => {\n    props.onInput(props.id, inputState.value, inputState.isValid);\n  }, []);\n\n  const touchedHandler = () => {\n    dispatch({\n      type: 'TOUCH'\n    });\n  };\n\n  const element = props.element === 'input' ? /*#__PURE__*/React.createElement(\"input\", {\n    id: props.id,\n    type: props.type,\n    placeholder: props.placeholder,\n    onChange: OnChangeHandler,\n    onBlur: touchedHandler,\n    value: inputState.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  }) : /*#__PURE__*/React.createElement(\"textarea\", {\n    id: props.id,\n    rows: props.row || 3,\n    onChange: OnChangeHandler,\n    onBlur: touchedHandler,\n    value: inputState.value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 3\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `form-control ${!inputState.isValid && inputState.isTouched && 'form-control--invalid'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: props.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }\n  }, \" \", props.label, \" \"), element, !inputState.isValid && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 28\n    }\n  }, props.errorText));\n};\n\nexport default Input;","map":{"version":3,"names":["React","useReducer","useEffect","validate","inputReducer","state","action","type","value","val","isValid","validators","isTouched","Input","props","inputState","dispatch","OnChangeHandler","event","target","onInput","id","touchedHandler","element","placeholder","row","label","errorText"],"sources":["/Users/waleedsiddiqui/Desktop/react-frontend-01-starting-setup/src/shared/components/FormElements/Input.js"],"sourcesContent":["import React,{useReducer, useEffect} from 'react';\nimport './Input.css';\nimport {validate} from '../utils/validators';\n\n\nconst inputReducer = (state, action) => {\n\tswitch(action.type) {\n\t\tcase 'CHANGE': \n\t\treturn {\n\t\t\t...state,\n\t\t\tvalue: action.val,\n\t\t\tisValid: validate(action.val, action.validators)\n\t\t};\n\t\tcase 'TOUCH':\n\t\treturn {\n\t\t\t...state,\n\t\t\tisTouched: true,\n\t\t};\n\t\tdefault: \n\t\treturn state;\n\t}\n}\n\nconst Input = (props) => {\n\tconst [inputState, dispatch] = useReducer(inputReducer, {value: '', isValid: false, isTouched: false});\n\tconst OnChangeHandler = (event) => {\n\t\tdispatch({type: 'CHANGE', val: event.target.value, validators: props.validators})\n\t}\n\n\tuseEffect(() => {\n\t\tprops.onInput(props.id, inputState.value, inputState.isValid);\n\t},[])\n\n\tconst touchedHandler = () => {\n\t\tdispatch({type: 'TOUCH'})\n\t}\n\n\tconst element = props.element === 'input' ? (\n\t\t<input \n\t\t\tid={props.id} \n\t\t\ttype={props.type} \n\t\t\tplaceholder={props.placeholder}\n\t\t\tonChange={OnChangeHandler}\n\t\t\tonBlur={touchedHandler}\n\t\t\tvalue={inputState.value}\n\t\t/>\n\t) : (\n\t\t<textarea \n\t\t\tid={props.id} \n\t\t\trows={props.row || 3}\n\t\t\tonChange={OnChangeHandler}\n\t\t\tonBlur={touchedHandler}\n\t\t\tvalue={inputState.value}\n\t\t/>\n\t)\n\treturn (\n\t\t<div className={`form-control ${!inputState.isValid && inputState.isTouched && 'form-control--invalid'}`}>\n\t\t\t<label htmlFor={props.id}> {props.label} </label>\n\t\t\t{element}\n\t\t\t{!inputState.isValid && <p>{props.errorText}</p>}\n\t\t</div>\n\t)\n};\n\nexport default Input;"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,UAAd,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAO,aAAP;AACA,SAAQC,QAAR,QAAuB,qBAAvB;;AAGA,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACvC,QAAOA,MAAM,CAACC,IAAd;IACC,KAAK,QAAL;MACA,OAAO,EACN,GAAGF,KADG;QAENG,KAAK,EAAEF,MAAM,CAACG,GAFR;QAGNC,OAAO,EAAEP,QAAQ,CAACG,MAAM,CAACG,GAAR,EAAaH,MAAM,CAACK,UAApB;MAHX,CAAP;;IAKA,KAAK,OAAL;MACA,OAAO,EACN,GAAGN,KADG;QAENO,SAAS,EAAE;MAFL,CAAP;;IAIA;MACA,OAAOP,KAAP;EAbD;AAeA,CAhBD;;AAkBA,MAAMQ,KAAK,GAAIC,KAAD,IAAW;EACxB,MAAM,CAACC,UAAD,EAAaC,QAAb,IAAyBf,UAAU,CAACG,YAAD,EAAe;IAACI,KAAK,EAAE,EAAR;IAAYE,OAAO,EAAE,KAArB;IAA4BE,SAAS,EAAE;EAAvC,CAAf,CAAzC;;EACA,MAAMK,eAAe,GAAIC,KAAD,IAAW;IAClCF,QAAQ,CAAC;MAACT,IAAI,EAAE,QAAP;MAAiBE,GAAG,EAAES,KAAK,CAACC,MAAN,CAAaX,KAAnC;MAA0CG,UAAU,EAAEG,KAAK,CAACH;IAA5D,CAAD,CAAR;EACA,CAFD;;EAIAT,SAAS,CAAC,MAAM;IACfY,KAAK,CAACM,OAAN,CAAcN,KAAK,CAACO,EAApB,EAAwBN,UAAU,CAACP,KAAnC,EAA0CO,UAAU,CAACL,OAArD;EACA,CAFQ,EAEP,EAFO,CAAT;;EAIA,MAAMY,cAAc,GAAG,MAAM;IAC5BN,QAAQ,CAAC;MAACT,IAAI,EAAE;IAAP,CAAD,CAAR;EACA,CAFD;;EAIA,MAAMgB,OAAO,GAAGT,KAAK,CAACS,OAAN,KAAkB,OAAlB,gBACf;IACC,EAAE,EAAET,KAAK,CAACO,EADX;IAEC,IAAI,EAAEP,KAAK,CAACP,IAFb;IAGC,WAAW,EAAEO,KAAK,CAACU,WAHpB;IAIC,QAAQ,EAAEP,eAJX;IAKC,MAAM,EAAEK,cALT;IAMC,KAAK,EAAEP,UAAU,CAACP,KANnB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADe,gBAUf;IACC,EAAE,EAAEM,KAAK,CAACO,EADX;IAEC,IAAI,EAAEP,KAAK,CAACW,GAAN,IAAa,CAFpB;IAGC,QAAQ,EAAER,eAHX;IAIC,MAAM,EAAEK,cAJT;IAKC,KAAK,EAAEP,UAAU,CAACP,KALnB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAVD;EAkBA,oBACC;IAAK,SAAS,EAAG,gBAAe,CAACO,UAAU,CAACL,OAAZ,IAAuBK,UAAU,CAACH,SAAlC,IAA+C,uBAAwB,EAAvG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACC;IAAO,OAAO,EAAEE,KAAK,CAACO,EAAtB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,QAA4BP,KAAK,CAACY,KAAlC,MADD,EAEEH,OAFF,EAGE,CAACR,UAAU,CAACL,OAAZ,iBAAuB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAII,KAAK,CAACa,SAAV,CAHzB,CADD;AAOA,CAvCD;;AAyCA,eAAed,KAAf"},"metadata":{},"sourceType":"module"}